{"version":3,"sources":["../../src/server/index.js"],"names":["server","use","passport","initialize","process","env","NODE_ENV","db","connect","express","json","users","admin"],"mappings":";;;;;;AAAA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;AACA;;;;AACA;;;;AAEA;;;;;;AACA,IAAMA,SAAS,wBAAf;AACAA,OAAOC,GAAP,CAAW,4BAAX;;AAEA,6BAAaC,kBAAb;AACAF,OAAOC,GAAP,CAAWC,mBAASC,UAAT,EAAX;;AAEA,IAAIC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,MAA7B,EAAqC;AACnCC,qBAAGC,OAAH;AACD;;AAEDR,OAAOC,GAAP,CAAW,qBAAX;AACAD,OAAOC,GAAP,CAAWQ,kBAAQC,IAAR,EAAX;AACA;AACAV,OAAOC,GAAP,CAAW,YAAX,EAAyBU,eAAzB;AACAX,OAAOC,GAAP,CAAW,YAAX,EAAyBW,eAAzB;;kBAEeZ,M","file":"index.js","sourcesContent":["import 'dotenv/config.js';\r\n\r\nimport compression from 'compression';\r\nimport cors from 'cors';\r\nimport path from 'path'\r\nimport express from 'express';\r\nimport passport from 'passport';\r\n\r\nimport { initPassport } from '../config/passport.js';\r\nimport users from '../routes/users.js';\r\nimport admin from '../routes/admin.js';\r\n\r\nimport db from './database.js';\r\nconst server = express();\r\nserver.use(compression());\r\n\r\ninitPassport(passport);\r\nserver.use(passport.initialize());\r\n\r\nif (process.env.NODE_ENV !== 'test') {\r\n  db.connect();\r\n}\r\n \r\nserver.use(cors());\r\nserver.use(express.json());\r\n// server.use(express.static(path.join(__dirname, '../../../frontend/build')))\r\nserver.use('/api/users', users);\r\nserver.use('/api/admin', admin);\r\n\r\nexport default server;\r\n"]}